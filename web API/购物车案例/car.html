<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Ë¥≠Áâ©ËΩ¶ÂÖ®ÈÄâÂäüËÉΩ</title>
    <!-- ÂºïÂÖ•ÂàùÂßãÂåñ -->
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        
        ul {
            list-style: none;
        }
        
        a {
            text-decoration: none;
            color: #666;
        }
        
        body {
            background: #fff;
            color: #666;
            font-size: 14px;
        }
        
        input {
            outline: none;
        }
        
        .clearfix::before,
        .clearfix::after {
            content: '';
            display: block;
            clear: both;
        }
        
        .clearfix {
            *zoom: 1;
        }
    </style>
    <!-- ÂºïÂÖ•Ë¥≠Áâ©ËΩ¶Ê†∑Âºè -->
    <style>
        table {
            width: 800px;
            margin: 0 auto;
            border-collapse: collapse;
        }
        
        th {
            font: normal 14px/50px 'ÂÆã‰Ωì';
            color: #666;
        }
        
        th,
        td {
            border: none;
            text-align: center;
            border-bottom: 1px dashed #ccc;
        }
        
        input[type='checkbox'] {
            width: 13px;
            height: 13px;
        }
        
        tbody p {
            position: relative;
            bottom: 10px;
        }
        
        tbody .add,
        tbody .reduce {
            float: left;
            width: 22px;
            height: 22px;
            border: 1px solid #ccc;
            text-align: center;
            background: none;
            outline: none;
            cursor: pointer;
        }
        
        tbody input[type='text'] {
            width: 50px;
            float: left;
            height: 18px;
            text-align: center;
        }
        
        tbody .count-c {
            width: 98px;
            margin: 0 auto;
        }
        
        button[disabled] {
            color: #ddd;
            cursor: not-allowed;
        }
        
        tbody tr:hover {
            background: #eee;
        }
        
        tbody tr.active {
            background: rgba(241, 209, 149, 0.945);
        }
        
        .controls {
            width: 790px;
            margin: 10px auto;
            border: 1px solid #ccc;
            line-height: 50px;
            padding-left: 10px;
            position: relative;
        }
        
        .controls .del-all,
        .controls .clear {
            float: left;
            margin-right: 50px;
        }
        
        .controls p {
            float: right;
            margin-right: 100px;
        }
        
        .controls span {
            color: red;
        }
        
        .controls .pay {
            position: absolute;
            right: 0;
            width: 80px;
            height: 54px;
            background: red;
            font: bold 20px/54px 'ÂÆã‰Ωì';
            color: #fff;
            text-align: center;
            bottom: -1px;
        }
        
        .controls .total-price {
            font-weight: bold;
        }
    </style>
</head>

<body>
    <div class="car">
        <table>
            <thead>
                <tr>
                    <th><input type="checkbox" id="all" />ÂÖ®ÈÄâ</th>
                    <th>ÂïÜÂìÅ</th>
                    <th>Âçï‰ª∑</th>
                    <th>ÂïÜÂìÅÊï∞Èáè</th>
                    <th>Â∞èËÆ°</th>
                    <th>Êìç‰Ωú</th>
                </tr>
            </thead>
            <tbody id="carBody">
                <tr>
                    <td>
                        <input class="s_ck" type="checkbox" readonly />
                    </td>
                    <td>
                        <img src="./images/01.jpg" />
                        <p>ÁâõÂ•∂</p>
                    </td>
                    <td class="price">5Ôø•</td>
                    <td>
                        <div class="count-c clearfix">
                            <button class="reduce" disabled>-</button>
                            <input type="text" value="1" />
                            <button class="add">+</button>
                        </div>
                    </td>
                    <td class="total">5Ôø•</td>
                    <td>
                        <a href="javascript:" class="del">Âà†Èô§</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="s_ck" type="checkbox" />
                    </td>
                    <td>
                        <img src="./images/01.jpg" />
                        <p>ÁâõÂ•∂</p>
                    </td>
                    <td class="price">10Ôø•</td>
                    <td>
                        <div class="count-c clearfix">
                            <button class="reduce" disabled>-</button>
                            <input type="text" value="1" />
                            <button class="add">+</button>
                        </div>
                    </td>
                    <td class="total">20Ôø•</td>
                    <td>
                        <a href="javascript:" class="del">Âà†Èô§</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="s_ck" type="checkbox" />
                    </td>
                    <td>
                        <img src="./images/01.jpg" />
                        <p>ÁâõÂ•∂</p>
                    </td>
                    <td class="price">20Ôø•</td>
                    <td>
                        <div class="count-c clearfix">
                            <button class="reduce" disabled>-</button>
                            <input type="text" value="1" />
                            <button class="add">+</button>
                        </div>
                    </td>
                    <td class="total">40Ôø•</td>
                    <td>
                        <a href="javascript:" class="del">Âà†Èô§</a>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input class="s_ck" type="checkbox" />
                    </td>
                    <td>
                        <img src="./images/01.jpg" />
                        <p>ÁâõÂ•∂</p>
                    </td>
                    <td class="price">35Ôø•</td>
                    <td>
                        <div class="count-c clearfix">
                            <button class="reduce" disabled>-</button>
                            <input type="text" value="1" />
                            <button class="add">+</button>
                        </div>
                    </td>
                    <td class="total">70Ôø•</td>
                    <td>
                        <a href="javascript:" class="del">Âà†Èô§</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="controls clearfix">
            <a href="javascript:" class="del-all">Âà†Èô§ÊâÄÈÄâÂïÜÂìÅ</a>
            <a href="javascript:" class="clear">Ê∏ÖÁêÜË¥≠Áâ©ËΩ¶</a>
            <a href="javascript:" class="pay">ÂéªÁªìÁÆó</a>
            <p>
                Â∑≤ÁªèÈÄâ‰∏≠<span id="totalCount">0</span>‰ª∂ÂïÜÂìÅ;ÊÄª‰ª∑Ôºö<span id="totalPrice" class="total-price">0Ôø•</span>
            </p>
        </div>
    </div>
    <script>
        //Ëé∑Âèñ + - del Âçï‰ª∑price  ÊÄªÈáètotal  ÊÄª‰ª∑ÊúÄ‰∏ãËæπÁõ∏Âä†total-price
        let adds = document.querySelectorAll('.add')
        let reduces = document.querySelectorAll('.reduce')
        let dels = document.querySelectorAll('.del')
        let inputs = document.querySelectorAll('.count-c input')
        let prices = document.querySelectorAll('.price')
        let totals = document.querySelectorAll('.total')
        let totalResult = document.querySelector('.total-price')
        let totalCount = document.querySelector('#totalCount')
        let carBody = document.querySelector('#carBody')


        //ÂÖàÂÅö+ ÁªôÂ§ö‰∏™+ÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂ 
        for (let i = 0; i < adds.length; i++) {
            //3.1 ‰∏Ä‰∏äÊù•ÂÖàËÆ©Â∞èËÆ°totalsÈáåËæπÁöÑÂÄº ‰∏éÂçï‰ª∑pricesÁöÑÂÄºÁõ∏Á≠â
            prices[i].innerHTML = totals[i].innerHTML

            adds[i].addEventListener('click', function() {
                //ÁÇπÂáªË∞ÅÂ∞±ËÆ© üòäÂØπÂ∫î ÁöÑËæìÂÖ•Ê°ÜËá™Â¢û
                inputs[i].value++;
                //ÂØπÂ∫îÁöÑÂáèÂè∑ÂºÄÂêØ 
                reduces[i].disabled = false
                    /*  2.ÊÄª‰ª∑= Âçï‰ª∑*Êï∞Èáè   Âçï‰ª∑Ôºö(üòäprice[i]ÊãøÁöÑÊòØÂÖÉÁ¥†Ôºå‰∏çË¶ÅÂÖÉÁ¥† Ë¶ÅÁöÑÊòØÈáåËæπÁöÑ5Ôø• ÊâÄ‰ª•Âä†‰∏äinnerHTML) Áî®parseINTÂèØ‰ª•ÂæóÂà∞5 //Êï∞ÈáèÔºöinputs[i].value
                     ÊÄª‰ª∑Ôºö Ë¶ÅÂæÄÈáåËæπÂÜôÊÄª‰ª∑ÊâÄ‰ª•ÂçÉ‰∏á‰∏çË¶ÅÂøò‰∫Ü üòäinnerHTML*/
                totals[i].innerHTML = parseInt(prices[i].innerHTML) * inputs[i].value + 'Ôø•'
                result()
            })

            // 3. - Êìç‰Ωú Ë¶ÅÂÜôÂú®forÁöÑÈáåËæπ
            reduces[i].addEventListener('click', function() {
                //ÁÇπÂáªË∞ÅÂ∞±ËÆ© üòäÂØπÂ∫î ÁöÑËæìÂÖ•Ê°ÜËá™Âáè
                inputs[i].value--;
                //ÈáåËæπÁöÑÂÄºÂ∞è‰∫éÁ≠â‰∫é1 Â∞±Á¶ÅÁî®ÊåâÈíÆ
                if (inputs[i].value <= 1) {
                    //ÂØπÂ∫îÁöÑÂáèÂè∑ÂÖ≥Èó≠  üòäreduces[i]ÂèØ‰ª•Êç¢Êàê this
                    reduces[i].disabled = true
                }
                totals[i].innerHTML = parseInt(prices[i].innerHTML) * inputs[i].value + 'Ôø•'
                result()
            })

            // 5.Âà†Èô§Êìç‰ΩúÔºö + - Âà†ÈÉΩÂèØ‰ª•‰∏ÄËµ∑ÂÅö
            dels[i].addEventListener('click', function() {
                // Áà∂ÂÖÉÁ¥†.removeChild(Â≠êÂÖÉÁ¥†)      Ôºàüòä‰∏ÄÂÆöË¶ÅËÆ∞‰Ωè‰∏çÊòØÂà†Èô§ÊåâÈíÆÔºâ Âà†Èô§ÁöÑÊòØtr  trÁöÑÁà∂ÂÖÉÁ¥†carBody
                carBody.removeChild(this.parentNode.parentNode)
                result()
            })
        }


        //4.ËÆ°ÁÆóÊÄªËÆ° ÊâÄÊúâÁöÑtotalsÁõ∏Âä† 
        function result() {
            // üòäÂà´Âøò‰∫ÜËµãÂÄºÂèòÈáè
            //6. ÂéüÂÖà totals Âíåinputs ÊòØÂÜôÂú®Â§ñËæπÁöÑÔºåÂΩìÁÇπÂáªÂà†Èô§‰πãÂêéË¶ÅÈáçÊñ∞Ëé∑ÂèñÂ∞èËÆ°ÂíåÂà†Èô§ÁöÑÊï∞Èáè
            let totals = document.querySelectorAll('.total')
            let inputs = document.querySelectorAll('.count-c input')

            let sum = 0
            let num = 0
                //ÂÖàfor Âæ™ÁéØ ÈÅçÂéÜÊâÄÊúâÁöÑtotals[i]
                //Áî®parseINTÂèØ‰ª•ÂæóÂà∞5 ÂéªÈô§Ôø•Á¨¶Âè∑
            for (let i = 0; i < totals.length; i++) {
                sum = sum + parseInt(totals[i].innerHTML)
                num = num + +inputs[i].value //+ ÂèØ‰ª•ÂÜôÊàêparseINT
            }
            totalResult.innerHTML = sum + 'Ôø•'
            totalCount.innerHTML = num
        }
        //üòäÂà´Âøò‰∫ÜË∞ÉÁî®  +Ë¶ÅË∞ÉÁî® -‰πüË¶ÅË∞ÉÁî®
        result()
    </script>
</body>

</html>